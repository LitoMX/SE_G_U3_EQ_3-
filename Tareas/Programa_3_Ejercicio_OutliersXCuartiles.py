import math

def calcularCuartil(datos,cuartil):
    N=len(datos)
    posicion = (cuartil * (N + 1)) / 4
    if posicion.is_integer():
        posicion=int(posicion)
        return  datos[posicion-1] * (datos[posicion] - datos[posicion - 1])
    else:
        decimales, entero = math.modf(posicion)
        entero=int(entero)
        return datos[entero-1]+decimales*(datos[entero]-datos[entero-1])


def valLeve(datos,IQR,C1,C3):

    valMin = C1 - (1.5 * IQR)
    valMax = C3 + (1.5 * IQR)
    outliers = [i for i in datos if i < valMin or i > valMax]
    return valMin, valMax, outliers


def valExtremo(datos,IQR,C1,C3):
    valMin = C1 - (3.0 * IQR)
    valMax = C3 + (3.0 * IQR)
    outliers = [i for i in datos if i < valMin or i > valMax]
    return valMin, valMax, outliers

Ataque = [49, 64, 82, 52, 64, 84, 48, 63, 83, 41, 76, 50, 65, 80, 70, 95, 52, 82, 70, 110, 50, 65, 95, 75, 90, 105, 40, 70, 80, 95, 100, 85, 100, 65, 75, 45, 70, 65, 95, 45, 100, 100, 40, 95, 85, 100, 55, 40, 65]
print("Ataque Original")
print(Ataque)
Ataque.sort()
print("Ataque Ordenado")
print(Ataque)
cuartil1 = calcularCuartil(Ataque,1)
print("Cuartil 1: "+str(cuartil1))
cuartil2 = calcularCuartil(Ataque,2)
print("Cuartil 2: "+str(cuartil2))
cuartil3=calcularCuartil(Ataque,3)
print("Cuartil 3: "+str(cuartil3))
IQR = cuartil3-cuartil1
print("Rango Intercuartilico: "+str(IQR))
vLeveMin, vLeveMax, outliers = valLeve(Ataque,IQR,cuartil1,cuartil3)
print("Valor atipico leve")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
vLeveMin, vLeveMax, outliers = valExtremo(Ataque,IQR,cuartil1,cuartil3)
print("Valor atipico extremo")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
print("**************************************************************")
Defensa = [49, 63, 83, 43, 58, 78, 65, 80, 100, 40, 75, 55, 70, 85, 55, 80, 48, 78, 45, 80, 40, 65, 95, 35, 50, 65, 35, 65, 100, 100, 100, 55, 70, 65, 100, 55, 80, 100, 100, 100, 90, 100, 80, 85, 95, 100, 100, 70, 95]
print("Defensa Original")
print(Defensa)
Defensa.sort()
print("Defensa Ordenado")
print(Defensa)
cuartil1 = calcularCuartil(Defensa,1)
print("Cuartil 1: "+str(cuartil1))
cuartil2 = calcularCuartil(Defensa,2)
print("Cuartil 2: "+str(cuartil2))
cuartil3=calcularCuartil(Defensa,3)
print("Cuartil 3: "+str(cuartil3))
IQR = cuartil3-cuartil1
print("Rango Intercuartilico: "+str(IQR))
vLeveMin, vLeveMax, outliers = valLeve(Defensa,IQR,cuartil1,cuartil3)
print("Valor atipico leve")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
vLeveMin, vLeveMax, outliers = valExtremo(Defensa,IQR,cuartil1,cuartil3)
print("Valor atipico extremo")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
print("**************************************************************")
AtqEsp = [65, 80, 100, 60, 80, 109, 50, 65, 85, 50, 81, 75, 85, 110, 45, 60, 65, 92, 70, 100, 40, 50, 70, 70, 85, 100, 50, 80, 30, 45, 55, 65, 80, 40, 100, 45, 70, 45, 85, 30, 25, 50, 60, 100, 30, 45, 100, 70, 95]

print("AtqEsp Original")
print(AtqEsp)
AtqEsp.sort()
print("AtqEsp Ordenado")
print(AtqEsp)
cuartil1 = calcularCuartil(AtqEsp,1)
print("Cuartil 1: "+str(cuartil1))
cuartil2 = calcularCuartil(AtqEsp,2)
print("Cuartil 2: "+str(cuartil2))
cuartil3=calcularCuartil(AtqEsp,3)
print("Cuartil 3: "+str(cuartil3))
IQR = cuartil3-cuartil1
print("Rango Intercuartilico: "+str(IQR))
vLeveMin, vLeveMax, outliers = valLeve(AtqEsp,IQR,cuartil1,cuartil3)
print("Valor atipico leve")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
vLeveMin, vLeveMax, outliers = valExtremo(AtqEsp,IQR,cuartil1,cuartil3)
print("Valor atipico extremo")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
print("**************************************************************")
DefEsp = [65, 80, 100, 50, 65, 85, 64, 80, 105, 65, 100, 65, 75, 90, 55, 80, 50, 80, 50, 80, 40, 50, 90, 30, 45, 70, 100, 100, 30, 45, 65, 65, 80, 40, 80, 70, 90, 25, 45, 45, 25, 50, 45, 65, 30, 45, 40, 25, 45]

print("DefEsp Original")
print(DefEsp)
DefEsp.sort()
print("DefEsp Ordenado")
print(DefEsp)
cuartil1 = calcularCuartil(DefEsp,1)
print("Cuartil 1: "+str(cuartil1))
cuartil2 = calcularCuartil(DefEsp,2)
print("Cuartil 2: "+str(cuartil2))
cuartil3=calcularCuartil(DefEsp,3)
print("Cuartil 3: "+str(cuartil3))
IQR = cuartil3-cuartil1
print("Rango Intercuartilico: "+str(IQR))
vLeveMin, vLeveMax, outliers = valLeve(DefEsp,IQR,cuartil1,cuartil3)
print("Valor atipico leve")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
vLeveMin, vLeveMax, outliers = valExtremo(DefEsp,IQR,cuartil1,cuartil3)
print("Valor atipico extremo")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
print("**************************************************************")
Velocidad = [45, 60, 80, 65, 80, 100, 43, 58, 78, 65, 100, 30, 40, 50, 25, 30, 55, 85, 60, 95, 90, 90, 70, 40, 55, 70, 70, 100, 20, 35, 45, 90, 100, 15, 30, 45, 70, 40, 70, 70, 50, 70, 40, 55, 25, 40, 60, 60, 85]
print("Velocidad Original")
print(Velocidad)
Velocidad.sort()
print("Velocidad Ordenado")
print(Velocidad)
cuartil1 = calcularCuartil(Velocidad,1)
print("Cuartil 1: "+str(cuartil1))
cuartil2 = calcularCuartil(Velocidad,2)
print("Cuartil 2: "+str(cuartil2))
cuartil3=calcularCuartil(Velocidad,3)
print("Cuartil 3: "+str(cuartil3))
IQR = cuartil3-cuartil1
print("Rango Intercuartilico: "+str(IQR))
vLeveMin, vLeveMax, outliers = valLeve(Velocidad,IQR,cuartil1,cuartil3)
print("Valor atipico leve")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
vLeveMin, vLeveMax, outliers = valExtremo(Velocidad,IQR,cuartil1,cuartil3)
print("Valor atipico extremo")
print("Valor Minimo: "+str(vLeveMin))
print("Valor Maximo: "+str(vLeveMax))
print("Outliers: ")
print(outliers)
